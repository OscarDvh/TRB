---
import logo from "../assets/logo.png";
---

<body class="h-screen bg-base-200">
    <!-- Contenedor de notificaciones -->
<div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

  <div class="drawer lg:drawer-open">
    <input id="drawer-toggle" type="checkbox" class="drawer-toggle" />

    <!-- Contenido principal -->
    <div class="drawer-content flex flex-col">
      <!-- Topbar -->
      <div class="navbar bg-base-100 shadow px-4">
        <div class="flex-1">
          <label for="drawer-toggle" class="btn btn-ghost lg:hidden">
            <i class="fas fa-bars"></i>
          </label>
          <h1 class="text-xl font-bold text-[#EE1C02]">Dashboard</h1>
        </div>
        <div class="flex-none gap-2">
          <div class="form-control">
            <input type="text" placeholder="Buscar" class="input input-bordered w-24 md:w-auto" id="buscar" />
          </div>
         
        </div>
      </div>

      <!-- Contenido de la página -->
      <main class="p-6">
        <!-- Estadísticas -->
        <div class="stats shadow w-full mb-6">
          <div class="stat">
            <div class="stat-title">Órdenes totales</div>
            <div class="stat-value text-primary" id="totalOrdenes">0</div>
          </div>
          <div class="stat">
            <div class="stat-title">Equipos Pendientes</div>
            <div class="stat-value text-secondary" id="ordenesPendientes">0</div>
          </div>
          <div class="stat">
            <div class="stat-title">Clientes Entregados</div>
            <div class="stat-value" id="ordenesEntregadas">0</div>
          </div>
        </div>

        <!-- Mensaje de bienvenida -->
        <div class="card bg-base-100 shadow p-6 text-base-content mb-6">
          <h2 class="text-lg font-bold mb-4">Bienvenido al sistema</h2>
          <p>Selecciona una opción en el menú lateral para comenzar.</p>
        </div>

        <!-- Tabla de clientes/órdenes -->
        <div class="overflow-x-auto">
          <table id="tabla-clientes" class="table w-full bg-base-100 shadow rounded-2xl">
            <thead class="bg-base-200">
              <tr>
                <th>Num</th>
                <th>Cliente</th>
                <th>Correo</th>
                <th>Teléfono</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Número de Serie</th>
                <th>Artículo</th>
                <th>Fecha ingreso</th>
                <th>Fecha entrega</th>
                <th>Descripción</th>
                <th>Estado</th>
                <th>Acciones</th>

              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="12" class="text-center py-4 text-gray-500">
                  Cargando órdenes...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </main>
    </div>

    <!-- Sidebar -->
    <div class="drawer-side">
      <label for="drawer-toggle" class="drawer-overlay"></label>
      <ul class="menu p-4 w-64 min-h-full bg-base-100 text-base-content">
        <div class="flex items-center space-x-2 mb-6">
          <img src={logo.src} alt="Logo" class="h-10" />
          <span class="text-xl font-bold text-[#EE1C02]">Tintas y Recargas del Bajio</span>
        </div>
        <li><a class="text-lg"><i class="fas fa-home mr-2"></i> Inicio</a></li>
        <li>
          <label for="nuevo-modal"><i class="fas fa-plus-circle mr-2"></i> Nueva orden</label>
        </li>
        <li><a><i class="fas fa-cog mr-2"></i> Configuración</a></li>
        <li><a href="#" id="logout-btn">    <i class="fas fa-sign-out-alt mr-2"></i> Cerrar sesión</a></li>

      </ul>
    </div>
  </div>

  <!-- Modal Nueva Orden -->
<input type="checkbox" id="nuevo-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box w-11/12 max-w-2xl">
    <h3 class="font-bold text-lg mb-4">Nueva Orden de Reparación</h3>
    <form id="form-orden" class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <input type="hidden" id="editar-orden" />
          <label class="label"><span class="label-text">Nombre del cliente</span></label>
          <input id="nombre" placeholder="Juan Pérez" class="input input-bordered w-full" required />
        </div>
        <div>
          <label class="label"><span class="label-text">Correo</span></label>
          <input id="correo" placeholder="cliente@mail.com" type="email" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Teléfono</span></label>
          <input id="telefono" placeholder="4421234567" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Marca</span></label>
          <input id="marca" placeholder="HP, Epson..." class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Modelo</span></label>
          <input id="modelo" placeholder="LaserJet M404dn" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Número de serie</span></label>
          <input id="numeroDeSerie" placeholder="SN123456" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Artículo</span></label>
          <input id="articulo" placeholder="Impresora" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Monto</span></label>
          <input id="precio" type="number" placeholder="1500" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Fecha ingreso</span></label>
          <input id="fechaIngreso" type="date" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Fecha entrega</span></label>
          <input id="fechaEntrega" type="date" class="input input-bordered w-full" />
        </div>
      </div>

      <div>
        <label class="label"><span class="label-text">Descripción</span></label>
        <textarea id="descripcion" class="textarea textarea-bordered w-full" placeholder="Descripción breve..."></textarea>
      </div>
      <div>
        <label class="label"><span class="label-text">Notas</span></label>
        <textarea id="notas" class="textarea textarea-bordered w-full" placeholder="Notas adicionales..."></textarea>
      </div>

      <div class="modal-action">
        <label for="nuevo-modal" class="btn">Cancelar</label>
        <button type="submit" class="btn bg-[#EE1C02] text-white hover:bg-[#c91602]">Guardar orden</button>
      </div>
    </form>
  </div>
</div>

  <!-- Modal Editar Orden -->
<input type="checkbox" id="editar-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box w-11/12 max-w-2xl">
    <h3 class="font-bold text-lg mb-4">Editar Orden</h3>
    <form id="editar-form" class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="label"><span class="label-text">Nombre del cliente</span></label>
          <input id="editar-nombre" class="input input-bordered w-full" required />
        </div>
        <div>
          <label class="label"><span class="label-text">Correo</span></label>
          <input id="editar-correo" type="email" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Teléfono</span></label>
          <input id="editar-telefono" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Marca</span></label>
          <input id="editar-marca" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Modelo</span></label>
          <input id="editar-modelo" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Número de serie</span></label>
          <input id="editar-numeroDeSerie" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Artículo</span></label>
          <input id="editar-articulo" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Precio</span></label>
          <input id="editar-precio" type="number" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Fecha ingreso</span></label>
          <input id="editar-fechaIngreso" type="date" class="input input-bordered w-full" />
        </div>
        <div>
          <label class="label"><span class="label-text">Fecha entrega</span></label>
          <input id="editar-fechaEntrega" type="date" class="input input-bordered w-full" />
        </div>
      </div>

      <div>
        <label class="label"><span class="label-text">Descripción</span></label>
        <textarea id="editar-descripcion" class="textarea textarea-bordered w-full"></textarea>
      </div>
      <div>
        <label class="label"><span class="label-text">Notas</span></label>
        <textarea id="editar-notas" class="textarea textarea-bordered w-full"></textarea>
      </div>

      <div class="modal-action">
        <label for="editar-modal" class="btn">Cancelar</label>
        <button type="submit" class="btn bg-[#EE1C02] text-white hover:bg-[#c91602]">Actualizar</button>
      </div>
    </form>
  </div>

</div>

  <!-- JS principal -->
   
  <script type="module" src="/scripts/main.js" client:load></script>
</body>
